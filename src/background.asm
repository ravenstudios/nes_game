

LOADBACKGROUND:

	LDA $2002		;read PPU status to reset high/low latch
	LDA #$20	;start of nametable "canvas" as the high bit
	STA $2006	
	LDA #$00	;sets low bit
	STA $2006	;what adress to write to starting at $2100
	LDX #$00	;bad code that uses wraparound to hit 0 in the loop
LOADBACKGROUNDP1:
	LDA BACKGROUNDDATA, X ;loop through BACKGROUNDDATA
	STA $2007 ; store byte
	LDA COLLISIONTABLEDATA, X
	; STA COLLISIONTABLE
	INX
	CPX #$00 ;wrap around
	BNE LOADBACKGROUNDP1 ; if x == 0 break
LOADBACKGROUNDP2:
	LDA BACKGROUNDDATA+256, X
	STA $2007
	LDA COLLISIONTABLEDATA+256, X
	; STA COLLISIONTABLE
	INX
	CPX #$00
	BNE LOADBACKGROUNDP2
LOADBACKGROUNDP3:
	LDA BACKGROUNDDATA+512, X
	STA $2007
	LDA COLLISIONTABLEDATA+512, X
	; STA COLLISIONTABLE
	INX
	CPX #$00
	BNE LOADBACKGROUNDP3
LOADBACKGROUNDP4:
	LDA BACKGROUNDDATA+768, X
	STA $2007
	LDA COLLISIONTABLEDATA+768, X
	; STA COLLISIONTABLE
	INX
	CPX #$c0
	BNE LOADBACKGROUNDP4
;192

;LOAD BACKGROUND PALETTEDATA
	LDA #$23	
	STA $2006
	LDA #$c0
	STA $2006
	LDX #$00
LOADBACKGROUNDATTRDATA:
	LDA BACKGROUNDATTRDATA, X
	STA $2007
	INX
	CPX #$40
	BNE LOADBACKGROUNDATTRDATA

	;RESET SCROLL
	LDA #$00
	STA $2005
	STA $2005



RTS
	


PALETTEDATA:
	.byte $20, $31, $22, $11, 	$20, $0A, $15, $01, 	$20, $29, $28, $27, 	$20, $34, $24, $14 	;background palettes
	.byte $20, $27, $13, $0f, 	$20, $0F, $11, $30, 	$20, $0F, $30, $27, 	$20, $3C, $2C, $1C 	;sprite palettes

BACKGROUNDDATA:
	.byte $02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03
	.byte $12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13
	.byte $02,$03,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$02,$03
	.byte $12,$13,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$12,$13
	.byte $02,$03,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$02,$03
	.byte $12,$13,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$12,$13
	.byte $02,$03,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$08,$09,$02,$03
	.byte $12,$13,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$18,$19,$12,$13
	
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	
	
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$04,$05,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$14,$15,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	
	
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07 ,$02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	.byte $02,$03, $06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07,$06,$07, $02,$03
	.byte $12,$13, $16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17,$16,$17, $12,$13
	
	.byte $02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03,$02,$03
	.byte $12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13,$12,$13


BACKGROUNDATTRDATA:
  .byte $40, $50, $50, $50, $50, $50, $50, $10
  .byte $44, $55, $55, $55, $55, $55, $55, $11
  .byte $cc,$ff, $ff, $ff, $ff, $ff, $ff, $33
  .byte $cc, $ff, $ff, $ff, $ff, $ff, $ff, $33
  .byte $cc, $ff, $ff, $ff, $ff, $ff, $ff, $33
  .byte $cc, $ff, $ff, $ff, $ff, $ff, $ff, $33
  .byte $cc, $ff, $ff, $ff, $ff, $ff, $ff, $33
  .byte $c0, $f0, $f0, $f0, $f0, $f0, $f0, $00


COLLISIONTABLEDATA:
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	
	
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	
	
	.byte $01,$01, $00,$00,$00,$00,$00,$00, $00,$00, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00, $00,$00, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	
	
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00, $01,$01
	.byte $01,$01, $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01, $01,$01
	
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01


LoadCollisionTable:
   LDX #$00
@copy1:
    LDA COLLISIONTABLEDATA, X
    STA COLLISIONTABLE, X
    INX
    BNE @copy1

    LDX #$00
@copy2:
    LDA COLLISIONTABLEDATA+256, X
    STA COLLISIONTABLE+256, X
    INX
    BNE @copy2

    LDX #$00
@copy3:
    LDA COLLISIONTABLEDATA+512, X
    STA COLLISIONTABLE+512, X
    INX
    BNE @copy3

    LDX #$00
@copy4:
    LDA COLLISIONTABLEDATA+768, X
    STA COLLISIONTABLE+768, X
    INX
    CPX #$C0          ; 192 bytes -> 960 total
    BNE @copy4
